<!-- <div class="container mt-4">
    <h3>Manage Doctor Slots</h3>

    <div class="form-group mb-3">
        <label>Select Doctor</label>
        <select class="form-control" [(ngModel)]="selectedDoctorID" (ngModelChange)="onDoctorSelect($event)">
            <option value="">-- Select Doctor --</option>
            <option *ngFor="let doc of doctors" [value]="doc.DoctorID">
                {{ doc.FirstName }} {{ doc.LastName }}
            </option>
        </select>
    </div>

    <div *ngIf="isLoading" class="text-center my-3">
        <span class="spinner-border spinner-border-sm"></span> Loading...
    </div>

    <div *ngIf="doctorSchedules.length > 0">
        <div class="card mb-3" *ngFor="let slot of doctorSchedules">
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-md-2"><strong>{{ getDayName(slot.DayOfWeek) }}</strong></div>
                    <div class="col-md-2">
                        <input type="time" [(ngModel)]="slot.StartTime" class="form-control">
                    </div>
                    <div class="col-md-2">
                        <input type="time" [(ngModel)]="slot.EndTime" class="form-control">
                    </div>
                    <div class="col-md-2">
                        <select [(ngModel)]="slot.SlotDurationID" class="form-control">
                            <option value="">Select Duration</option>
                            <option *ngFor="let sd of slotDurations" [value]="sd.SlotDurationID">
                                {{ sd.DurationMinutes }} min
                            </option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <input type="checkbox" [(ngModel)]="slot.IsActive"> Active
                    </div>
                </div>
            </div>
        </div>

        <button class="btn btn-primary" (click)="saveSchedules()">Save Changes</button>
        <div class="mt-2 text-success" *ngIf="saveMessage">{{ saveMessage }}</div>
    </div>

    <div *ngIf="!doctorSchedules.length && selectedDoctorID && !isLoading" class="text-muted">
        No schedules found for selected doctor.
    </div>
</div> -->







<!-- <div class="container mt-4">
    <h3>Manage Doctor Schedules</h3>

    <div class="form-group mb-3">
        <label>Select Doctor</label>
        <select class="form-control" [(ngModel)]="selectedDoctorID" (ngModelChange)="onDoctorSelect($event)">
            <option value="">-- Select Doctor --</option>
            <option *ngFor="let doc of doctors" [value]="doc.DoctorID">
                {{ doc.FirstName }} {{ doc.LastName }}
            </option>
        </select>
    </div>

    <div *ngIf="selectedDoctorID">
        <full-calendar [options]="calendarOptions"></full-calendar>
    </div>

    <div class="mt-3">
        <button class="btn btn-primary" (click)="saveSchedules()">Save Changes</button>
        <div class="mt-2 text-success" *ngIf="saveMessage">{{ saveMessage }}</div>
    </div>
</div> -->


<!-- ----------------------------------------------------------------------------------------------------------------------- -->



<!-- 

<div class="container mt-4">
    <h3>Manage Doctor Schedules</h3>

    <div class="form-group mb-3">
        <label>Select Doctor</label>
        <select class="form-control" [(ngModel)]="selectedDoctorID" (ngModelChange)="onDoctorSelect($event)">
            <option value="">-- Select Doctor --</option>
            <option *ngFor="let doc of doctors" [value]="doc.DoctorID">
                {{ doc.FirstName }} {{ doc.LastName }}
            </option>
        </select>
    </div>

    <div *ngIf="selectedDoctorID">
        <full-calendar [options]="calendarOptions"></full-calendar>
    </div>

    <div class="mt-3">
        <button class="btn btn-primary" (click)="saveSchedules()">Save Changes</button>
        <div class="mt-2 text-success" *ngIf="saveMessage">{{ saveMessage }}</div>
    </div>
</div>


<div id="slotModal" class="custom-modal">
    <div class="modal-content">
        <span class="close" (click)="closeModal()">&times;</span>
        <h5>Select Slot Duration</h5>
        <div *ngFor="let sd of slotDurations" class="mb-1">
            <button class="btn btn-outline-primary w-100" (click)="selectSlotDuration(sd.SlotDurationID)">
                {{ sd.DurationMinutes }} minutes
            </button>
        </div>
        <div class="mt-2">
            <button class="btn btn-danger w-100" (click)="removeSlot(selectedSlot)">Remove Slot</button>
        </div>
    </div>
</div>

<style>
    .custom-modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5);
    }

    .modal-content {
        background-color: #fff;
        margin: 15% auto;
        padding: 20px;
        width: 300px;
        border-radius: 8px;
        text-align: center;
    }

    .close {
        float: right;
        font-size: 20px;
        font-weight: bold;
        cursor: pointer;
    }
</style> -->

<!-- ----------------------------------------------------------------------------------------------------------------------- -->

<div class="container mt-4">
    <h3>Manage Doctor Schedules</h3>

    <div class="form-group mb-3">
        <label>Select Doctor</label>
        <select class="form-control" [(ngModel)]="selectedDoctorID" (ngModelChange)="onDoctorSelect($event)">
            <option value="">-- Select Doctor --</option>
            <option *ngFor="let doc of doctors" [value]="doc.DoctorID">
                {{ doc.FirstName }} {{ doc.LastName }}
            </option>
        </select>
    </div>

    <div *ngIf="selectedDoctorID">
        <full-calendar [options]="calendarOptions"></full-calendar>
    </div>

    <div class="mt-3">
        <button class="btn btn-primary" (click)="saveSchedules()">Save Changes</button>
        <div class="mt-2 text-success" *ngIf="saveMessage">{{ saveMessage }}</div>
    </div>
</div>

<div id="slotModal" class="custom-modal">
    <div class="modal-content">
        <span class="close" (click)="closeModal()">&times;</span>
        <h5>Select Slot Duration</h5>

        <div *ngFor="let sd of slotDurations" class="mb-1">
            <button class="btn btn-outline-primary w-100" (click)="selectSlotDuration(sd.SlotDurationID)">
                {{ sd.DurationMinutes }} minutes
            </button>
        </div>

        <div class="mt-2">
            <button class="btn btn-danger w-100" (click)="removeSlot(selectedSlot)">Remove Slot</button>
        </div>
    </div>
</div>

<style>
    .custom-modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
    }

    .modal-content {
        background-color: #fff;
        margin: 15% auto;
        padding: 20px;
        width: 300px;
        border-radius: 8px;
        text-align: center;
    }

    .close {
        float: right;
        font-size: 20px;
        font-weight: bold;
        cursor: pointer;
    }
</style>